<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="David Binder; Boris Dolley; Alexandra Guironnet; Ronan Le Gall">
<title>OperatorFabric Card Publication Service</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>OperatorFabric Card Publication Service</h1>
<div class="details">
<span id="author" class="author">David Binder; Boris Dolley; Alexandra Guironnet; Ronan Le Gall</span><br>
<span id="revnumber">version 0.12.1.RELEASE,</span>
<span id="revdate">December 2, 2019</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Card Publication Service</div>
<ul class="sectlevel1">
<li><a href="#_cards_examples">1. Cards Examples</a>
<ul class="sectlevel2">
<li><a href="#_minimal_card">1.1. Minimal Card</a></li>
<li><a href="#_regular_card">1.2. Regular Card</a></li>
<li><a href="#_displaying_rules">1.3. Displaying Rules</a></li>
</ul>
</li>
<li><a href="#_card_anatomy">2. Card Anatomy</a>
<ul class="sectlevel2">
<li><a href="#_technical_information_of_the_card">2.1. Technical Information of the card</a></li>
<li><a href="#_user_destined_information_of_the_card">2.2. User destined Information of the card</a></li>
<li><a href="#_presentation_information_of_the_card">2.3. Presentation Information of the card</a></li>
</ul>
</li>
<li><a href="#_publication_rest_api_overview">3. Publication REST API Overview.</a>
<ul class="sectlevel2">
<li><a href="#_publish_cards">3.1. Publish Cards</a></li>
<li><a href="#_delete_cards">3.2. Delete Cards</a></li>
<li><a href="#_other_methods">3.3. Other methods</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Card Publication Service is the entry point in OpeartorFabric to send information to Operators. The cards are the bearer of this information in OperatorFabric system. They are composed of 3 differents parts. The technical one is destined to the internal mecanism of card managing of Operator Fabric, the second one is the data itself destined to the Operator and the third and last one is the formatting information, which indicates OperatorFabric how to display the card data to the operator.</p>
</div>
<div class="paragraph">
<p>To have an overview of the card publication you could go through the 101 document. If it&#8217;s ok for you, let&#8217;s dive more deeply in the cards anatomy and then we will explore the subtilities of the Card publication API.</p>
</div>
<div class="paragraph">
<p>But mainly, before everything else, posting a card in OperatorFabric is done by using a POST request sending the card as Json object in the request body.</p>
</div>
<div id="_publish_card" class="paragraph">
<p>For a card stored in a file named <code>card.json</code>, with an OperatorFabric running on the localhost the <code>cURL</code> command could be:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl -X POST http://localhost:2102/cards -H "Content-Type:application/type" --data @card.json</pre>
</div>
</div>
<div class="paragraph">
<p>For more details about possibilities about the Card Publication REST API please refere to the <a href="#_publication_rest_api_overview">Publication REST API Overview.</a> chapter or to the <a href="https://opfab.github.io/projects/services/core/cards-publication/0.1.1.RELEASE/api/">swagger documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cards_examples">1. Cards Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before detailing the content of cards, let&#8217;s show you what cards look like through few examples of json.</p>
</div>
<div class="sect2">
<h3 id="_minimal_card">1.1. Minimal Card</h3>
<div class="paragraph">
<p>The OperatorFabric Card specification defines 7 mandatory attributes, but some optional attributes are needed for cards to be useful in OperatorFabric. Let&#8217;s clarify those point through few examples of minimal cards and what happens when they&#8217;re used as if.</p>
</div>
<div class="sect3">
<h4 id="_send_to_one_user">1.1.1. Send to One User</h4>
<div class="paragraph">
<p>The following card contains only the mandatory attributes.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
	"publisher":"TSO1",
	"publisherVersion":"0.1",
	"processId":"process-000",
	"startDate":"1546297200000",
	"severity":"NOTIFICATION",
	"title":{"key":"card.title.key"},
	"summary":{"key":"card.summary.key"},
	"recipient":{
		"type":"USER",
		"identity":"tso1-operator"
	}

}</pre>
</div>
</div>
<div class="paragraph">
<p>This an information about the process <code>process-000</code>, send by the <code>TSO1</code>. The title and the summary refere to <code>i18n</code> keys defined in the associated <code>i18n</code> files of the pulbisher. This card is displayable since the first januray of 2019 and should only be received by the user using the <code>tso1-operator</code> login.</p>
</div>
</div>
<div class="sect3">
<h4 id="_send_to_several_users">1.1.2. Send to several users</h4>
<div class="sect4">
<h5 id="_simple_case">Simple case</h5>
<div class="paragraph">
<p>The following example is nearly the same as the previous one except for the recipient.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
	"publisher":"TSO1",
	"publisherVersion":"0.1",
	"processId":"process-000",
	"startDate":"1546297200000",
	"severity":"NOTIFICATION",
	"title":{"key":"card.title.key"},
	"summary":{"key":"card.summary.key"},
	"recipient":{
		"type":"GROUP",
		"identity":"TSO1"
	}

}</pre>
</div>
</div>
<div class="paragraph">
<p>The recipient is here a group, the <code>TSO1</code>. So all users whoa are member of this group will receive the card.</p>
</div>
</div>
<div class="sect4">
<h5 id="_complexe_case">Complexe case</h5>
<div class="paragraph">
<p>If this card need to be view by a user who is not in the <code>TSO1</code> group, it&#8217;s possible to tune more precisely the definition of the recipient. If the <code>tso2-operator</code> needs to see also this card, the recipient definition could be(the following code details only the recipient part):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"recipient":{
	"type":"UNION",
	"recipients":[
		{ "type": "GROUP", "identity":"TSO1"},
		{ "type": "USER", "identity":"tso2-operator"}
		]
	}</pre>
</div>
</div>
<div class="paragraph">
<p>So here, all the users of the <code>TSO1</code> group will received the <code>NOTIFICATION</code> as should the <code>tos2-operator</code> user.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_regular_card">1.2. Regular Card</h3>
<div class="paragraph">
<p>The previous cards were nearly empty regarding information carrying. In fact, cards are intented to contains more information than a title and a summary. The optional attribute <code>data</code> is here for that. This attribute is destined to contains any <code>json</code> object. The creator of the card is free to put any information needed as long as it&#8217;s in a <code>json</code> format.</p>
</div>
<div class="sect3">
<h4 id="_full_of_hidden_data">1.2.1. Full of Hidden data</h4>
<div class="paragraph">
<p>For this example we will use our previous example for the <code>TSO1</code> group with a <code>data</code> attribute containing the definition of a <code>json</code> object containing two attributes: <code>stringExample</code> and <code>numberExample</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
	"publisher":"TSO1",
	"publisherVersion":"0.1",
	"processId":"process-000",
	"startDate":"1546297200000",
	"severity":"NOTIFICATION",
	"title":{"key":"card.title.key"},
	"summary":{"key":"card.summary.key"},
	"recipient":{
		"type":"USER",
		"identity":"tso1-operator"
	},
	"data":{
		"stringExample":"This is a not so random string of characters.",
		"numberExample":123
		}

}</pre>
</div>
</div>
<div class="paragraph">
<p>This card contains some data but when selected in the feed nothing more than the previous example of card happen because there is no rendering configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fully_useful">1.2.2. Fully useful</h4>
<div class="paragraph">
<p>When a card is selected in the feed (of the GUI), the data is display in the detail panel. The way details are formatted depends on template uploaded by Third parties as <a href="https://opfab.github.io/projects/services/core/thirds/0.1.1.RELEASE/reference/#_bundle">describe here</a>. To have an effective example without to many actions to performed, the following example will use an alerady existing configuration.The one presents in the developpement version of OperatorFabric, for test purpose(<code>TEST</code> bundle).</p>
</div>
<div class="paragraph">
<p>At the card level, the attribtues in the card telling OperatorFabric which template to use is the <code>details</code> attributes.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
	"publisher":"TEST",
	"pulisherVersion":"1",
	"processId":"process-000",
	"startDate":"1546297200000",
	"severity":"NOTIFICATION",
	"title":{"key":"process.title"},
	"summary":{"key":"process.summary"},
	"recipient":{
		"type":"USER",
		"identity":"tso1-operator"
	},
	"data":{"rootProp":"Data displayed in the detail panel"},
	"details":[{"title":{"key":"process.detail.tab.first"}, "templateName":"template1"}]

}</pre>
</div>
</div>
<div class="paragraph">
<p>So here a single custome data is defined and it&#8217;s <code>rootProp</code>. This attribute is used by the template called by the <code>details</code> attribute. This attribute contains an array of <code>json</code> object containing an <code>i18n</code> key and a <code>template</code> reference. Each of those object is a tab in the detail panel of the GUI. The template to used are defined and configured in the <code>Third</code> bundle upload into the server by the publisher.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_displaying_rules">1.3. Displaying Rules</h3>
<div class="sect3">
<h4 id="_dates">1.3.1. Dates</h4>
<div class="paragraph">
<p>Dates impact both the feed rendering and the timeline rendering.</p>
</div>
<div class="paragraph">
<p>In the feed cards are visible based on a collection of filters among which a
time filter.</p>
</div>
<div class="paragraph">
<p>In the time line cards are visible based on a similar filter plus the time line
renders the "position" in time of said cards. By default it groups cards at
close time in bubbles whom color indicates severity and inner number indicates
number of cards.</p>
</div>
<div class="sect4">
<h5 id="_start_date_startdate">Start Date (<code>startDate</code>)</h5>
<div class="paragraph">
<p>The card is only display after this date is reach by the current time. It&#8217;s a mandatory attributes for OperatorFabric cards.</p>
</div>
<div class="paragraph">
<p>example:</p>
</div>
<div class="paragraph">
<p>The current day is the 29 january of 2019.</p>
</div>
<div class="paragraph">
<p>A card with the following configuration <code>"startDate":"1548758040000"</code>, has a start date equals to the iso date: "2019-01-29T10:34:00Z". So the operator will see it appearing in it&#8217;s feed at 10h34 AM universal time. And if there is no <code>endDate</code> defines for it, it will stay in the feed indefinitely, so this card should be still visible the 30th january of 2019. Before "10h34 AM universal time", this card was not visible in the feed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_end_date_enddate">End Date (<code>endDate</code>)</h5>
<div class="paragraph">
<p>This optional attribute, corresponds to the moment afterwhich the card will be remove from the feed of the GUI.</p>
</div>
<div class="paragraph">
<p>example:</p>
</div>
<div class="paragraph">
<p>Imagine that the current day is still the 29 january of 2019.</p>
</div>
<div class="paragraph">
<p>The card we are looking after, has the same value for the startDate than in the previous example but has the following configuration for the <code>endDate</code>: <code>"endDate":"1548765240000"</code>. It&#8217;s correpsonding to "2019-01-29T12:34:00Z" universal time.</p>
</div>
<div class="paragraph">
<p>So our card is present in the feed between "11h34" and "13h34". Before and after those hours, the card is not available.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_card_recipients">1.3.2. Recipients</h4>
<div class="paragraph">
<p>The attribute <code>recepient</code> of a card tells to whom it&#8217;s sent. It&#8217;s value format is an <a href="../api/#Recipient"><code>object named recipient</code></a> that describe the rule for recipient computation.</p>
</div>
<div class="paragraph">
<p>The available types are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GROUP</code></p>
</li>
<li>
<p><code>USER</code></p>
</li>
<li>
<p><code>UNION</code></p>
</li>
<li>
<p><code>INTERSECT</code></p>
</li>
<li>
<p><code>RANDOM</code></p>
</li>
<li>
<p><code>WEIGHTED</code></p>
</li>
<li>
<p><code>FAVORITE</code></p>
</li>
<li>
<p><code>BROADCAST</code></p>
</li>
<li>
<p><code>DEADEND</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The simplest way to determine the recipient is to assign the card to a <code>user</code> or a <code>group</code> as seen <a href="#_minimal_card">previously in  "Minimal Card"</a>.</p>
</div>
<div class="paragraph">
<p>But it&#8217;s possible to combine groups and potentially users using <code>UNION</code> and <code>INTERSECT</code> type to have a better control on whom should receive the card.</p>
</div>
<div class="sect4">
<h5 id="_union">UNION</h5>
<div class="paragraph">
<p>For example, if a card is destined to the operators of <code>TSO1</code> and <code>TSO2</code> and need to be alos view by the <code>admin</code> the recipient configuration looks like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"recipient":{"type":"UNION",
	"recipients":[
		{"type":"GROUP","identity":"TSO1"},
		{"type":"GROUP","identity":"TSO2"},
		{"type":"USER","identity":"admin"}
		]
	}</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_intersect">INTERSECT</h5>
<div class="paragraph">
<p>To target all users member of the <code>admin</code> group in the <code>TSO2</code> group, the recipient rule could be:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"recipient":{"type":"INTERSECT",
	"recipients":[
		{"type":"GROUP","identity":"TSO1"},
		{"type":"GROUP","identity":"ADMIN"}
		]
	}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_card_anatomy">2. Card Anatomy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cards are modelized as <code>Json</code> objects. The technical design of card is describe in <a href="../api/#Card">the swagger api description of Card Publication Service</a>. A card correspond to the state of a Processus in OperatorFabric.</p>
</div>
<div class="sect2">
<h3 id="_technical_information_of_the_card">2.1. Technical Information of the card</h3>
<div class="paragraph">
<p>Those attributes are used by OperatorFabric to manage how cards are stored, to whom and when they&#8217;re sended.</p>
</div>
<div class="sect3">
<h4 id="_mandotory_information">2.1.1. Mandotory information</h4>
<div class="paragraph">
<p>Below, the <code>json</code> technical key is in the '()' following the title.</p>
</div>
<div class="sect4">
<h5 id="_card_publisher">Publisher (<code>publisher</code>)</h5>
<div class="paragraph">
<p>Quite obviously it&#8217;s the Third party which publish the card. This information is used to look up for Presentation resources of the card.</p>
</div>
</div>
<div class="sect4">
<h5 id="_card_publisher_version">Publisher Version (<code>publisherVersion</code>)</h5>
<div class="paragraph">
<p>Refers the <code>version</code> of <code>publisher third</code> to use to render this card (i18n, title, summary, media and details).
As through time, the presentation of a publisher card data changes, this changes are managed through <code>publisherVersion</code> in OperatorFabric. Each version is keep in the system in order to be able to display correctely old cards.</p>
</div>
</div>
<div class="sect4">
<h5 id="_process_identifier_processid">Process Identifier (<code>processId</code>)</h5>
<div class="paragraph">
<p>It&#8217;s the way to identify the process to which the card is associated. A card represent a state of a process.</p>
</div>
</div>
<div class="sect4">
<h5 id="startDate">Start Date (<code>startDate</code>)</h5>
<div class="paragraph">
<p>This attribute is a part of the card life management system. It&#8217;s indicate OperatorFabric the moment since the card can be diplay to the opertors or main receipients, <a href="#_displaying_rules">see Displaying rules</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_severity_severity">Severity (<code>severity</code>)</h5>
<div class="paragraph">
<p>The severity is a core principe of the OperatorFabric Card system. There are 4 serverities available(<a href="../api/#SeverityEnum">Technical definition of OperatorFabric Card Severity</a>). A color is associated in the GUI to each severity. Here the details about severity and their meaning for OperatorFabric:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ALARM: representes a critical state of the associated process, need an action from the operator. In the Gui, the card is red;</p>
</li>
<li>
<p>ACTION: the associated process need an action form operators in order to evolve correctly. In the Gui, an action is orange;</p>
</li>
<li>
<p>QUESTION: an operator need to give specific information to the associated process in order to evolve correctly. In the UI, an action is blue.;</p>
</li>
<li>
<p>NOTIFICATION: give information to the operator. In the GUI, a notification is green.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="cardTitle">Title (<code>title</code>)</h5>
<div class="paragraph">
<p>This attribute is display as header of a card in the feed of the GUI. It&#8217;s the main User destined Information of a card. The value refer to an <code>i18n</code> value used to localized this information.</p>
</div>
</div>
<div class="sect4">
<h5 id="cardSummary">Summary (<code>summary</code>)</h5>
<div class="paragraph">
<p>This attribute is display as a description of a card in the feed of the GUI, when the card is selected by the operator. It&#8217;s completing the information of the card title. The value refer to an <code>i18n</code> value used to localized this information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_recipient_recipient">2.1.2. Recipient (<code>recipient</code>)</h4>
<div class="paragraph">
<p>Declares to whom the card is send. For more details about way recipient works <a href="#_displaying_rules">see Displaying rules</a>. Without recipient declaration a card is useless in <code>OperatorFabric</code> system.</p>
</div>
</div>
<div class="sect3">
<h4 id="_store_information">2.1.3. Store information</h4>
<div class="sect4">
<h5 id="_tags_tag">Tags (<code>tag</code>)</h5>
<div class="paragraph">
<p>Tags are intended to enable filter of cards in the feed of the GUI.</p>
</div>
</div>
<div class="sect4">
<h5 id="_uid_uid">uid (<code>uid</code>)</h5>
<div class="paragraph">
<p>Unique identifier of the card in the OperatorFabric system. This attribute can be send with card, but normally it&#8217;s manage by <code>OperatorFabric</code> system.</p>
</div>
</div>
<div class="sect4">
<h5 id="_id_id">id (<code>id</code>)</h5>
<div class="paragraph">
<p>State id of the associated process, determines by <code>OperatorFabric</code> can be set abritrarly by the <code>publisher</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_card_life_management_configuration">2.1.4. Card Life Management Configuration</h4>
<div class="paragraph">
<p>With this attributes OperatorFabric know when to display or hide cards, but also if an action is still available for a given card.</p>
</div>
<div class="sect4">
<h5 id="_start_date_startdate_2">Start Date (<code>startDate</code>)</h5>
<div class="paragraph">
<p><a href="#startDate">see Start Date in Technical Information of the Card</a> and <a href="#_displaying_rules">for more examples</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_end_date_enddate_2">End Date (<code>endDate</code>)</h5>
<div class="paragraph">
<p>Fixes the moment until when <code>OperatorFabric</code> displays the card. After the card is remove from the GUI feed, <a href="#_display_rules">see Display Rules for some examples</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_last_time_to_decide_lttd">2.1.5. Last Time to Decide (<code>lttd</code>)</h4>
<div class="paragraph">
<p>Fixes the moment until when a <code>actions</code> associated to the card are available. After then, the associated actions won&#8217;t be displayed or actionnable.</p>
</div>
</div>
<div class="sect3">
<h4 id="_other_technical_attributes">2.1.6. Other technical attributes</h4>

</div>
<div class="sect3">
<h4 id="_publish_date_publishdate">2.1.7. Publish Date (<code>publishDate</code>)</h4>
<div class="paragraph">
<p>Indicates when the card has been registred in <code>OperatorFabric</code> sytsem. This is a technical information exclusively managed by <code>OperatorFabric</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_deletion_date_deletiondate">2.1.8. Deletion Date (`deletionDate°)</h4>
<div class="paragraph">
<p>Indicates when the card has been removes from <code>OperatorFabric</code> system. Technical inforation manage by <code>OperatorFabric</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_user_destined_information_of_the_card">2.2. User destined Information of the card</h3>
<div class="paragraph">
<p>There are two kind of User destined information in a card. Some are restricted to the card format, others are defined by the publisher as long as there are encoded in <code>json</code> format.</p>
</div>
<div class="sect3">
<h4 id="_in_card_format">2.2.1. in Card Format</h4>
<div class="sect4">
<h5 id="_title_title">Title (<code>title</code>)</h5>
<div class="paragraph">
<p><a href="#cardTitle">see Title in Technical Information of the Card</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_summary_summary">Summary (<code>summary</code>)</h5>
<div class="paragraph">
<p><a href="#cardSummary">see Summary in Technical Information of the Card</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_custome_part">2.2.2. Custome part</h4>
<div class="sect4">
<h5 id="_data_data">Data (<code>data</code>)</h5>
<div class="paragraph">
<p>Determines where custome information is store. The content in this attribute, is purely <code>publisher</code> choice. This content, as long as it&#8217;s in <code>json</code> format can be used to display details. For the way the details are displayed <a href="#_presentation_information_of_the_card">see below</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_presentation_information_of_the_card">2.3. Presentation Information of the card</h3>
<div class="sect3">
<h4 id="_media_media">2.3.1. Media (<code>media</code>)</h4>
<div class="paragraph">
<p>Some cards can emit a sound when displayed in the feed of the GUI, the id of audio notification is indicated in this attribute.</p>
</div>
</div>
<div class="sect3">
<h4 id="_details_details">2.3.2. details (<code>details</code>)</h4>
<div class="paragraph">
<p>This attribute is a string of objects containing a <code>title</code> attribute whichi is <code>i18n</code> key and a <code>template</code> attribute which referes to a template name contained in the publisher bundle. The bundle in which those resources will be looked for is the one corresponding of the <a href="#_card_publisher_version">version</a> declared in the card for the current <a href="#_card_publisher">publisher</a>. If no resource is found, either because there is no bundle for the given version or there is no resource for the given key, then the corresponding key is displayed in the details section of the GUI.</p>
</div>
<div class="paragraph">
<p><a href="../../../thirds/0.1.1.RELEASE/reference/#_bundle">See the documentation about third bundle in the Third service documentation</a>.</p>
</div>
<div class="paragraph">
<p><strong>example:</strong></p>
</div>
<div class="paragraph">
<p>The <code>TEST</code> publisher has only a <code>0.1</code> version uploaded in the current <code>OperatorFabric</code> system. The <code>details</code> value is <code>[{"title":{"key":"first.tab.title"},"template":"template0"}]</code>.</p>
</div>
<div class="paragraph">
<p>If the <code>publisherVersion</code> of the card is <code>2</code> then only the <code>title</code> key declared in the <code>details</code> array will be displays without any translation, i.e. the tab will contains <code>TEST.2.first.tab.title</code> and will be empty. If the <code>l10n</code> for the title is not available, then the tab title will be still <code>TEST.2.first.tab.title</code> but the template will be compute and the details section will display the template content.</p>
</div>
</div>
<div class="sect3">
<h4 id="_timespans_timespans">2.3.3. TimeSpans (<code>timeSpans</code>)</h4>
<div class="paragraph">
<p>When the simple startDate and endDate are not enough to characterize your
process business times, you can add a list of TimeSpan to your card. TimeSpans
are rendered in the timeline component as cluster bubbles are as lines
depending on your parametrization of the span. This as no effect on the feed
content</p>
</div>
<div class="paragraph">
<p><strong>example 1:</strong></p>
</div>
<div class="paragraph">
<p>to display the card two times in the timeline you can add two TimeSpan to your
card:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
	"publisher":"TSO1",
	"publisherVersion":"0.1",
	"processId":"process-000",
	"startDate":"1546297200000",
	"severity":"NOTIFICATION",
	...
	"timeSpans" : [
        {"start" : 1546297200000},
        {"start" : 1546297500000},
    ]

}</pre>
</div>
</div>
<div class="paragraph">
<p>In this sample, the card will be displayed twice in the time line. The card
start date will be ignored.</p>
</div>
<div class="paragraph">
<p><strong>example 2:</strong></p>
</div>
<div class="paragraph">
<p>Instead of the default clustered view, you may want your card to be displayed
as a line in the time line.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
	"publisher":"TSO1",
	"publisherVersion":"0.1",
	"processId":"process-000",
	"startDate":"1546297200000",
	"severity":"NOTIFICATION",
	...
	"timeSpans" : [
        {"start" : 1546297200000, "end" : 1546297500000},
    ]

}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_publication_rest_api_overview">3. Publication REST API Overview.</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_publish_cards">3.1. Publish Cards</h3>
<div class="paragraph">
<p>As <a href="#_publish_card">seen here</a> the main publication method is to post Card using an http <code>POST</code> method to the endpoint <code>/cards</code> with a card as <code>json</code> object in the body of the request.</p>
</div>
<div class="paragraph">
<p>There is an asynchrone metho available whom end-point is <code>/async/cards</code>. The response for this method is always a <code>201</code> status, no matter what the card is accepted or not.</p>
</div>
</div>
<div class="sect2">
<h3 id="_delete_cards">3.2. Delete Cards</h3>
<div class="paragraph">
<p>For a given <code>process id</code> it&#8217;s possible to delete the current card (not the archived ones), using the <code>DELETE</code> http method with the following end-point <code>/cards/{processId}</code> where <code>processId</code> is the id of the choosen process. In <code>OperatorFabric</code> calling this method will trigger a <code>DELETE CardOperation</code> with the <code>id</code> of the current card linked to the request process.</p>
</div>
</div>
<div class="sect2">
<h3 id="_other_methods">3.3. Other methods</h3>
<div class="paragraph">
<p>The other methods declared in the <a href="../api/">Card Management</a> are used by the GUI and are parts of the <code>Card Consultation API</code>.</p>
</div>
</div>
</div>
</div>
</div>
</body>
</html>